!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this._upperLeftPoint=t,this._side=e,this._lowerRightPoint=i}return Object.defineProperty(t.prototype,"upperLeftPoint",{get:function(){return this._upperLeftPoint},set:function(t){this._upperLeftPoint=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"side",{get:function(){return this._side},set:function(t){this._side=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowerRightPoint",{get:function(){return this._lowerRightPoint},set:function(t){this._lowerRightPoint=t},enumerable:!0,configurable:!0}),t.prototype.calculateLowerRightPoint=function(){this.lowerRightPoint.x=this.upperLeftPoint.x+this.side-1,this.lowerRightPoint.y=this.upperLeftPoint.y+this.side-1},t.prototype.calculateSide=function(){this.side=this.lowerRightPoint.x-this.upperLeftPoint.x+1},t}();e.ZoneShape=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this._x=t,this._y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t}();e.Point=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(0),r=function(){function t(){this._isFirstStage=!0,this._isNewStage=!0,this._finalZoneShape=new o.ZoneShape(new n.Point(0,0),0,new n.Point(0,0)),this._currentZoneShape=new o.ZoneShape(new n.Point(0,0),0,new n.Point(0,0)),this._verticalDistancesRatio=0,this._horizontalDistancesRatio=0,this._topDistance=0,this._bottomDistance=0,this._leftDistance=0,this._rightDistance=0,this._verticalStepCount=0,this._horizontalStepCount=0}return Object.defineProperty(t.prototype,"isFirstStage",{get:function(){return this._isFirstStage},set:function(t){this._isFirstStage=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNewStage",{get:function(){return this._isNewStage},set:function(t){this._isNewStage=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"finalZoneShape",{get:function(){return this._finalZoneShape},set:function(t){this._finalZoneShape=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentZoneShape",{get:function(){return this._currentZoneShape},set:function(t){this._currentZoneShape=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalDistancesRatio",{get:function(){return this._verticalDistancesRatio},set:function(t){this._verticalDistancesRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalDistancesRatio",{get:function(){return this._horizontalDistancesRatio},set:function(t){this._horizontalDistancesRatio=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topDistance",{get:function(){return this._topDistance},set:function(t){this._topDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomDistance",{get:function(){return this._bottomDistance},set:function(t){this._bottomDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftDistance",{get:function(){return this._leftDistance},set:function(t){this._leftDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightDistance",{get:function(){return this._rightDistance},set:function(t){this._rightDistance=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalStepCount",{get:function(){return this._verticalStepCount},set:function(t){this._verticalStepCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalStepCount",{get:function(){return this._horizontalStepCount},set:function(t){this._horizontalStepCount=t},enumerable:!0,configurable:!0}),t.prototype.shrink=function(t,e,i,n,o,r){this.isFirstStage&&this.initializeFirstStage(t),this.isNewStage&&this.beginNewStage(t,e,i,o,r),this.continueCurrentStage(t,n,i)},t.prototype.initializeFirstStage=function(t){this.currentZoneShape.upperLeftPoint.x=0,this.currentZoneShape.upperLeftPoint.y=0,this.currentZoneShape.lowerRightPoint.x=t.length-1,this.currentZoneShape.lowerRightPoint.y=t[0].length-1,this.currentZoneShape.calculateSide(),this.isFirstStage=!1,this.isNewStage=!0},t.prototype.beginNewStage=function(t,e,i,n,o){this.clearBorder(t,o),this.calculateFinalZoneShape(e,i),this.calculateDistances(),this.calculateVerticalDistancesRatio(),this.calculateHorizontalDistancesRatio(),this.drawZoneBorderline(t,n),this.verticalStepCount=0,this.horizontalStepCount=0,this.isNewStage=!1},t.prototype.calculateFinalZoneShape=function(t,e){var i=this.currentZoneShape.side/t,n=Math.round(i);i=n<=e?e:n;var o=this.currentZoneShape.upperLeftPoint.x,r=this.currentZoneShape.lowerRightPoint.x-i+2,a=this.currentZoneShape.upperLeftPoint.y,h=this.currentZoneShape.lowerRightPoint.y-i+2,s=Math.floor(Math.random()*(r-o)+o),p=Math.floor(Math.random()*(h-a)+a);this.finalZoneShape.upperLeftPoint.x=s,this.finalZoneShape.upperLeftPoint.y=p,this.finalZoneShape.side=i,this.finalZoneShape.calculateLowerRightPoint()},t.prototype.calculateDistances=function(){this.topDistance=Math.abs(this.finalZoneShape.upperLeftPoint.y-this.currentZoneShape.upperLeftPoint.y),this.bottomDistance=Math.abs(this.currentZoneShape.lowerRightPoint.y-this.finalZoneShape.lowerRightPoint.y),this.leftDistance=Math.abs(this.finalZoneShape.upperLeftPoint.x-this.currentZoneShape.upperLeftPoint.x),this.rightDistance=Math.abs(this.currentZoneShape.lowerRightPoint.x-this.finalZoneShape.lowerRightPoint.x)},t.prototype.calculateVerticalDistancesRatio=function(){if(this.topDistance<=0||this.bottomDistance<=0)this.verticalDistancesRatio=0;else{var t=Math.max(this.topDistance,this.bottomDistance),e=Math.min(this.topDistance,this.bottomDistance);this.verticalDistancesRatio=Math.floor(t/e)}},t.prototype.calculateHorizontalDistancesRatio=function(){if(this.leftDistance<=0||this.rightDistance<=0)this.horizontalDistancesRatio=0;else{var t=Math.max(this.leftDistance,this.rightDistance),e=Math.min(this.leftDistance,this.rightDistance);this.horizontalDistancesRatio=Math.floor(t/e)}},t.prototype.continueCurrentStage=function(t,e,i){var n={topStep:0,bottomStep:0,leftStep:0,rightStep:0};this.shrinkVertically(t,e,n),this.shrinkHorizontally(t,e,n),this.shrinkSingleSizeZone(t,e,i),this.calculateCurrentZoneShape(n),this.checkIsFinalZoneReached()},t.prototype.shrinkVertically=function(t,e,i){var n=this.currentZoneShape.upperLeftPoint.y===this.finalZoneShape.upperLeftPoint.y,o=this.currentZoneShape.lowerRightPoint.y===this.finalZoneShape.lowerRightPoint.y,r=this.verticalStepCount===this.verticalDistancesRatio,a=this.currentZoneShape.upperLeftPoint.x,h=this.currentZoneShape.upperLeftPoint.y,s=this.currentZoneShape.lowerRightPoint.x,p=this.currentZoneShape.lowerRightPoint.y;if(n||o){if(n&&!o){for(c=a;c<=s;c++)t[c][p]=e;i.bottomStep++}else if(!n&&o){for(c=a;c<=s;c++)t[c][h]=e;i.topStep++}}else if(this.verticalStepCount++,this.topDistance>this.bottomDistance){i.topStep++;for(var c=a;c<=s;c++)t[c][h]=e,r&&(t[c][p]=e);r&&(i.bottomStep++,this.verticalStepCount=0)}else if(this.topDistance<this.bottomDistance){i.bottomStep++;for(var c=a;c<=s;c++)t[c][p]=e,r&&(t[c][h]=e);r&&(i.topStep++,this.verticalStepCount=0)}else{for(var c=a;c<=s;c++)t[c][h]=e,t[c][p]=e;i.topStep++,i.bottomStep++,this.verticalStepCount=0}},t.prototype.shrinkHorizontally=function(t,e,i){var n=this.currentZoneShape.upperLeftPoint.x===this.finalZoneShape.upperLeftPoint.x,o=this.currentZoneShape.lowerRightPoint.x===this.finalZoneShape.lowerRightPoint.x,r=this.horizontalStepCount===this.horizontalDistancesRatio,a=this.currentZoneShape.upperLeftPoint.x,h=this.currentZoneShape.upperLeftPoint.y,s=this.currentZoneShape.lowerRightPoint.x,p=this.currentZoneShape.lowerRightPoint.y;if(n||o){if(n&&!o){for(c=h;c<=p;c++)t[s][c]=e;i.rightStep++}else if(!n&&o){for(c=h;c<=p;c++)t[a][c]=e;i.leftStep++}}else if(this.horizontalStepCount++,this.leftDistance>this.rightDistance){i.leftStep++;for(var c=h;c<=p;c++)t[a][c]=e,r&&(t[s][c]=e);r&&(i.rightStep++,this.horizontalStepCount=0)}else if(this.leftDistance<this.rightDistance){i.rightStep++;for(var c=h;c<=p;c++)t[s][c]=e,r&&(t[a][c]=e);r&&(i.leftStep++,this.horizontalStepCount=0)}else{for(var c=h;c<=p;c++)t[a][c]=e,t[s][c]=e;i.leftStep++,i.rightStep++,this.horizontalStepCount=0}},t.prototype.shrinkSingleSizeZone=function(t,e,i){1===this.currentZoneShape.side&&i<1&&(t[this.currentZoneShape.upperLeftPoint.x][this.currentZoneShape.upperLeftPoint.y]=e)},t.prototype.calculateCurrentZoneShape=function(t){this.currentZoneShape.upperLeftPoint.x+=t.leftStep,this.currentZoneShape.upperLeftPoint.y+=t.topStep,this.currentZoneShape.lowerRightPoint.x-=t.rightStep,this.currentZoneShape.lowerRightPoint.y-=t.bottomStep,this.currentZoneShape.calculateSide()},t.prototype.checkIsFinalZoneReached=function(){this.currentZoneShape.upperLeftPoint.x===this.finalZoneShape.upperLeftPoint.x&&this.currentZoneShape.upperLeftPoint.y===this.finalZoneShape.upperLeftPoint.y&&this.currentZoneShape.side===this.finalZoneShape.side&&this.currentZoneShape.lowerRightPoint.x===this.finalZoneShape.lowerRightPoint.x&&this.currentZoneShape.lowerRightPoint.y===this.finalZoneShape.lowerRightPoint.y&&(this.isNewStage=!0)},t.prototype.drawZoneBorderline=function(t,e){for(var i=this.finalZoneShape.upperLeftPoint.x;i<=this.finalZoneShape.lowerRightPoint.x;i++)t[i][this.finalZoneShape.upperLeftPoint.y]=e,t[i][this.finalZoneShape.lowerRightPoint.y]=e;for(i=this.finalZoneShape.upperLeftPoint.y;i<=this.finalZoneShape.lowerRightPoint.y;i++)t[this.finalZoneShape.upperLeftPoint.x][i]=e,t[this.finalZoneShape.lowerRightPoint.x][i]=e},t.prototype.clearBorder=function(t,e){for(var i=this.finalZoneShape.upperLeftPoint.x;i<=this.finalZoneShape.lowerRightPoint.x;i++)t[i][this.finalZoneShape.upperLeftPoint.y]=e,t[i][this.finalZoneShape.lowerRightPoint.y]=e;for(i=this.finalZoneShape.upperLeftPoint.y;i<=this.finalZoneShape.lowerRightPoint.y;i++)t[this.finalZoneShape.upperLeftPoint.x][i]=e,t[this.finalZoneShape.lowerRightPoint.x][i]=e},t}();e.Zone=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var n=i(2),o=new Array(18),r=0;r<18;r++)o[r]=new Array(18);for(r=0;r<18;r++)for(var a=0;a<18;a++)o[r][a]=" ";var h=new n.Zone,s=function(t){!function(e){setTimeout(function(){console.clear(),h.shrink(e,1.4,0,"∎",0," "),console.table(e)},1e3*t)}(o)};for(r=0;r<19;r++)s(r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3pvbmUvem9uZVNoYXBlLnRzIiwid2VicGFjazovLy8uL3NyYy96b25lL3BvaW50LnRzIiwid2VicGFjazovLy8uL3NyYy96b25lL3pvbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJab25lU2hhcGUiLCJ1cHBlckxlZnRQb2ludCIsInNpZGUiLCJsb3dlclJpZ2h0UG9pbnQiLCJ0aGlzIiwiX3VwcGVyTGVmdFBvaW50IiwiX3NpZGUiLCJfbG93ZXJSaWdodFBvaW50IiwiY2FsY3VsYXRlTG93ZXJSaWdodFBvaW50IiwieCIsInkiLCJjYWxjdWxhdGVTaWRlIiwiUG9pbnQiLCJfeCIsIl95IiwicG9pbnRfMSIsInpvbmVTaGFwZV8xIiwiWm9uZSIsIl9pc0ZpcnN0U3RhZ2UiLCJfaXNOZXdTdGFnZSIsIl9maW5hbFpvbmVTaGFwZSIsIl9jdXJyZW50Wm9uZVNoYXBlIiwiX3ZlcnRpY2FsRGlzdGFuY2VzUmF0aW8iLCJfaG9yaXpvbnRhbERpc3RhbmNlc1JhdGlvIiwiX3RvcERpc3RhbmNlIiwiX2JvdHRvbURpc3RhbmNlIiwiX2xlZnREaXN0YW5jZSIsIl9yaWdodERpc3RhbmNlIiwiX3ZlcnRpY2FsU3RlcENvdW50IiwiX2hvcml6b250YWxTdGVwQ291bnQiLCJzaHJpbmsiLCJsb2NhdGlvbiIsInNocmlua0NvZWZmaWNpZW50IiwibGFzdFpvbmVTaWRlIiwiZmlsbGluZ09iamVjdCIsImJvcmRlckZpbGxpbmdPYmplY3QiLCJjbGVhbmVyT2JqZWN0IiwiaXNGaXJzdFN0YWdlIiwiaW5pdGlhbGl6ZUZpcnN0U3RhZ2UiLCJpc05ld1N0YWdlIiwiYmVnaW5OZXdTdGFnZSIsImNvbnRpbnVlQ3VycmVudFN0YWdlIiwiY3VycmVudFpvbmVTaGFwZSIsImxlbmd0aCIsImNsZWFyQm9yZGVyIiwiY2FsY3VsYXRlRmluYWxab25lU2hhcGUiLCJjYWxjdWxhdGVEaXN0YW5jZXMiLCJjYWxjdWxhdGVWZXJ0aWNhbERpc3RhbmNlc1JhdGlvIiwiY2FsY3VsYXRlSG9yaXpvbnRhbERpc3RhbmNlc1JhdGlvIiwiZHJhd1pvbmVCb3JkZXJsaW5lIiwidmVydGljYWxTdGVwQ291bnQiLCJob3Jpem9udGFsU3RlcENvdW50IiwiZmluYWxab25lU2lkZSIsImZpbmFsWm9uZVNpZGVSb3VuZGVkIiwiTWF0aCIsInJvdW5kIiwibWluQm91bmRYIiwibWF4Qm91bmRYIiwibWluQm91bmRZIiwibWF4Qm91bmRZIiwiZmluYWxab25lWDEiLCJmbG9vciIsInJhbmRvbSIsImZpbmFsWm9uZVkxIiwiZmluYWxab25lU2hhcGUiLCJ0b3BEaXN0YW5jZSIsImFicyIsImJvdHRvbURpc3RhbmNlIiwibGVmdERpc3RhbmNlIiwicmlnaHREaXN0YW5jZSIsInZlcnRpY2FsRGlzdGFuY2VzUmF0aW8iLCJtYXgiLCJtaW4iLCJob3Jpem9udGFsRGlzdGFuY2VzUmF0aW8iLCJzaHJpbmtTdGVwcyIsInRvcFN0ZXAiLCJib3R0b21TdGVwIiwibGVmdFN0ZXAiLCJyaWdodFN0ZXAiLCJzaHJpbmtWZXJ0aWNhbGx5Iiwic2hyaW5rSG9yaXpvbnRhbGx5Iiwic2hyaW5rU2luZ2xlU2l6ZVpvbmUiLCJjYWxjdWxhdGVDdXJyZW50Wm9uZVNoYXBlIiwiY2hlY2tJc0ZpbmFsWm9uZVJlYWNoZWQiLCJpc1RvcFNpZGVSZWFjaGVkIiwiaXNCb3R0b21TaWRlUmVhY2hlZCIsImlzQ29tbW9uU3RlcCIsInVwcGVyWCIsInVwcGVyWSIsImxvd2VyWCIsImxvd2VyWSIsImlzTGVmdFNpZGVSZWFjaGVkIiwiaXNSaWdodFNpZGVSZWFjaGVkIiwiem9uZV8xIiwiZ2FtZUxvY2F0aW9uIiwiQXJyYXkiLCJqIiwiem9uZSIsInNldFRpbWVvdXQiLCJjb25zb2xlIiwiY2xlYXIiLCJ0YWJsZSJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQ0FLLGNBQUEsRUFDQUMsWUFBQSxFQUNBQyxJQUFBTixLQU1BWixFQUFBbUIsRUFBQSxTQUFBakIsR0FDQVksT0FBQUMsZUFBQWIsRUFBQSxjQUFpRGtCLE9BQUEsS0FJakRwQixFQUFBcUIsRUFBQSxTQUFBbEIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBbUIsV0FDQSxXQUEyQixPQUFBbkIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQVUsRUFBQUMsR0FBc0QsT0FBQVYsT0FBQVcsVUFBQUMsZUFBQW5CLEtBQUFnQixFQUFBQyxJQUd0RHhCLEVBQUEyQixFQUFBLEdBSUEzQixJQUFBNEIsRUFBQSxtRkM3REEsSUFB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QWF2SCxHQUFHeUgsR0FBSyxJQUl6QixJQUFNQyxFQUFPLElBQUlKLEVBQUE1RSxnQkFFUjFDLElBQ1AsU0FBV3VILEdBQ1RJLFdBQVcsV0FDVEMsUUFBUUMsUUFDUkgsRUFBS25FLE9BQU9nRSxFQXZCUSxJQUNMLEVBQ0MsSUFDTSxFQUNOLEtBb0JoQkssUUFBUUUsTUFBTVAsSUFDVCxJQUFKdkgsR0FMTCxDQU1HdUgsSUFQTCxJQUFTdkgsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLE1BQWZBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJpbXBvcnQgeyBQb2ludCB9IGZyb20gXCIuL3BvaW50XCI7XHJcblxyXG4vKipcclxuICogQGNsYXNzXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXByZXNlbnRzIHJlY3RhbmdsZSBzaGFwZSBvZiB6b25lXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgWm9uZVNoYXBlIHtcclxuICBwcml2YXRlIF91cHBlckxlZnRQb2ludDogUG9pbnQ7XHJcbiAgcHJpdmF0ZSBfc2lkZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2xvd2VyUmlnaHRQb2ludDogUG9pbnQ7XHJcblxyXG4gIC8vI3JlZ2lvbiBDb25zdHJ1Y3RvclxyXG5cclxuXHQvKiogQGNvbnN0cnVjdG9yXHJcblx0ICogQHBhcmFtIHtQb2ludH0gdXBwZXJMZWZ0UG9pbnQgVXBwZXIgbGVmdCBwb2ludCBvZiB6b25lIHNoYXBlXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNpZGUgU2lkZSB2YWx1ZVxyXG5cdCAqIEBwYXJhbSB7UG9pbnR9IGxvd2VyUmlnaHRQb2ludCBMb3dlciByaWdodCBwb2ludCBvZiB6b25lIHNoYXBlXHJcblx0ICogQHRoaXMge1pvbmVTaGFwZX1cclxuXHQgKiBAZGVzY3JpcHRpb24gQ29uc3RydWN0b3Igb2YgdGhlIFpvbmVTaGFwZSBjbGFzcyAqL1xyXG4gIGNvbnN0cnVjdG9yKHVwcGVyTGVmdFBvaW50OiBQb2ludCwgc2lkZTogbnVtYmVyLCBsb3dlclJpZ2h0UG9pbnQ6IFBvaW50KSB7XHJcbiAgICB0aGlzLl91cHBlckxlZnRQb2ludCA9IHVwcGVyTGVmdFBvaW50O1xyXG4gICAgdGhpcy5fc2lkZSA9IHNpZGU7XHJcbiAgICB0aGlzLl9sb3dlclJpZ2h0UG9pbnQgPSBsb3dlclJpZ2h0UG9pbnQ7XHJcbiAgfVxyXG5cclxuICAvLyNlbmRyZWdpb25cclxuXHJcbiAgLy8jcmVnaW9uIEFjY2Vzc29yIGZ1bmN0aW9ucyBkZWNsYXJhdGlvblxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBVcHBlciBsZWZ0IHBvaW50IG9mIHpvbmUgc2hhcGVcclxuXHQgKi9cclxuICBnZXQgdXBwZXJMZWZ0UG9pbnQoKTogUG9pbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VwcGVyTGVmdFBvaW50O1xyXG4gIH1cclxuICBzZXQgdXBwZXJMZWZ0UG9pbnQodmFsdWU6IFBvaW50KSB7XHJcbiAgICB0aGlzLl91cHBlckxlZnRQb2ludCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQWNjZXNzb3JcclxuXHQgKiBAZGVzY3JpcHRpb24gU2lkZSB2YWx1ZVxyXG5cdCAqL1xyXG4gIGdldCBzaWRlKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fc2lkZTtcclxuICB9XHJcbiAgc2V0IHNpZGUodmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy5fc2lkZSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQWNjZXNzb3JcclxuXHQgKiBAZGVzY3JpcHRpb24gTG93ZXIgcmlnaHQgcG9pbnQgb2Ygem9uZSBzaGFwZVxyXG5cdCAqL1xyXG4gIGdldCBsb3dlclJpZ2h0UG9pbnQoKTogUG9pbnQge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xvd2VyUmlnaHRQb2ludDtcclxuICB9XHJcbiAgc2V0IGxvd2VyUmlnaHRQb2ludCh2YWx1ZTogUG9pbnQpIHtcclxuICAgIHRoaXMuX2xvd2VyUmlnaHRQb2ludCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLy8jZW5kcmVnaW9uXHJcblxyXG4gIC8vI3JlZ2lvbiBDbGFzcyBmdW5jdGlvbnNcclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZXMgbG93ZXIgcmlnaHQgcG9pbnQgY29vcmRpbmF0ZXNcclxuXHQgKi9cclxuICBjYWxjdWxhdGVMb3dlclJpZ2h0UG9pbnQoKTogdm9pZCB7XHJcbiAgICB0aGlzLmxvd2VyUmlnaHRQb2ludC54ID0gdGhpcy51cHBlckxlZnRQb2ludC54ICsgdGhpcy5zaWRlIC0gMTtcclxuICAgIHRoaXMubG93ZXJSaWdodFBvaW50LnkgPSB0aGlzLnVwcGVyTGVmdFBvaW50LnkgKyB0aGlzLnNpZGUgLSAxO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZXMgc2lkZSB1c2luZyB1cHBlciBsZWZ0IGFuZCBsb3dlciByaWdodCBwb2ludHNcclxuXHQgKi9cclxuICBjYWxjdWxhdGVTaWRlKCk6IHZvaWQge1xyXG4gICAgdGhpcy5zaWRlID0gdGhpcy5sb3dlclJpZ2h0UG9pbnQueCAtIHRoaXMudXBwZXJMZWZ0UG9pbnQueCArIDE7XHJcbiAgfVxyXG5cclxuICAvLyNlbmRyZWdpb25cclxufTsiLCIvKipcclxuICogQGNsYXNzXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXByZXNlbnRzIGNvb3JkaW5hdGUgcG9pbnRcclxuICovXHJcbmV4cG9ydCBjbGFzcyBQb2ludCB7XHJcbiAgcHJpdmF0ZSBfeDogbnVtYmVyO1xyXG4gIHByaXZhdGUgX3k6IG51bWJlcjtcclxuXHJcbiAgLy8jcmVnaW9uIENvbnN0cnVjdG9yXHJcblxyXG5cdC8qKiBAY29uc3RydWN0b3JcclxuXHQgKiBAcGFyYW0ge251bWJlcn0geCBYIGNvb3JkaW5hdGUgb2YgYSBwb2ludFxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSB5IFkgY29vcmRpbmF0ZSBvZiBhIHBvaW50XHJcblx0ICogQHRoaXMge1BvaW50fVxyXG5cdCAqIEBkZXNjcmlwdGlvbiBDb25zdHJ1Y3RvciBvZiB0aGUgUG9pbnQgY2xhc3MgKi9cclxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgdGhpcy5feCA9IHg7XHJcbiAgICB0aGlzLl95ID0geTtcclxuICB9XHJcblxyXG4gIC8vI2VuZHJlZ2lvblxyXG5cclxuICAvLyNyZWdpb24gQWNjZXNzb3IgZnVuY3Rpb25zIGRlY2xhcmF0aW9uXHJcblxyXG5cdC8qKlxyXG5cdCAqIEFjY2Vzc29yXHJcblx0ICogQGRlc2NyaXB0aW9uIFggY29vcmRpbmF0ZSBvZiBhIHBvaW50XHJcblx0ICovXHJcbiAgZ2V0IHgoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl94O1xyXG4gIH1cclxuICBzZXQgeCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl94ID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBZIGNvb3JkaW5hdGUgb2YgYSBwb2ludFxyXG5cdCAqL1xyXG4gIGdldCB5KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5feTtcclxuICB9XHJcbiAgc2V0IHkodmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy5feSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLy8jZW5kcmVnaW9uXHJcbn0iLCJpbXBvcnQgeyBQb2ludCB9IGZyb20gXCIuL3BvaW50XCI7XHJcbmltcG9ydCB7IFpvbmVTaGFwZSB9IGZyb20gXCIuL3pvbmVTaGFwZVwiO1xyXG5cclxuLypcclxu0J3QsNC00L4g0L7QsdC80L7Qt9Cz0L7QstCw0YLRjDpcclxuXHQt0JLRgdC1INC10YnQtSDQv9C10YDQtdGB0LzQvtGC0YDQtdGC0Ywg0YHQv9C+0YHQvtCxINGB0LbQsNGC0LjRjyDQtdC00LjQvdC40YfQvdC+0Lkg0LfQvtC90YssINC80LEg0YfRgtC+LdGC0L4g0LzQvtC20L3QviDRgdC00LXQu9Cw0YLRjCDQu9GD0YfRiNC1XHJcbiovXHJcblxyXG4vKipcclxuICogQGNsYXNzXHJcbiAqIEBkZXNjcmlwdGlvbiBSZXByZXNlbnRzIHNocmlua2luZyB6b25lIGluIHRoZSBnYW1lIGxvY2F0aW9uXHJcbiAqL1xyXG5leHBvcnQgY2xhc3MgWm9uZSB7XHJcbiAgcHJpdmF0ZSBfaXNGaXJzdFN0YWdlOiBib29sZWFuO1xyXG4gIHByaXZhdGUgX2lzTmV3U3RhZ2U6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBfZmluYWxab25lU2hhcGU6IFpvbmVTaGFwZTtcclxuICBwcml2YXRlIF9jdXJyZW50Wm9uZVNoYXBlOiBab25lU2hhcGU7XHJcbiAgcHJpdmF0ZSBfdmVydGljYWxEaXN0YW5jZXNSYXRpbzogbnVtYmVyO1xyXG4gIHByaXZhdGUgX2hvcml6b250YWxEaXN0YW5jZXNSYXRpbzogbnVtYmVyO1xyXG4gIHByaXZhdGUgX3RvcERpc3RhbmNlOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfYm90dG9tRGlzdGFuY2U6IG51bWJlcjtcclxuICBwcml2YXRlIF9sZWZ0RGlzdGFuY2U6IG51bWJlcjtcclxuICBwcml2YXRlIF9yaWdodERpc3RhbmNlOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBfdmVydGljYWxTdGVwQ291bnQ6IG51bWJlcjtcclxuICBwcml2YXRlIF9ob3Jpem9udGFsU3RlcENvdW50OiBudW1iZXI7XHJcblxyXG4gIC8vI3JlZ2lvbiBDb25zdHJ1Y3RvclxyXG5cclxuXHQvKiogQGNvbnN0cnVjdG9yXHJcblx0ICogQHRoaXMge1pvbmV9XHJcblx0ICogQGRlc2NyaXB0aW9uIENvbnN0cnVjdG9yIG9mIHRoZSBab25lIGNsYXNzICovXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLl9pc0ZpcnN0U3RhZ2UgPSB0cnVlO1xyXG4gICAgdGhpcy5faXNOZXdTdGFnZSA9IHRydWU7XHJcbiAgICB0aGlzLl9maW5hbFpvbmVTaGFwZSA9IG5ldyBab25lU2hhcGUobmV3IFBvaW50KDAsIDApLCAwLCBuZXcgUG9pbnQoMCwgMCkpO1xyXG4gICAgdGhpcy5fY3VycmVudFpvbmVTaGFwZSA9IG5ldyBab25lU2hhcGUobmV3IFBvaW50KDAsIDApLCAwLCBuZXcgUG9pbnQoMCwgMCkpO1xyXG4gICAgdGhpcy5fdmVydGljYWxEaXN0YW5jZXNSYXRpbyA9IDA7XHJcbiAgICB0aGlzLl9ob3Jpem9udGFsRGlzdGFuY2VzUmF0aW8gPSAwO1xyXG4gICAgdGhpcy5fdG9wRGlzdGFuY2UgPSAwO1xyXG4gICAgdGhpcy5fYm90dG9tRGlzdGFuY2UgPSAwO1xyXG4gICAgdGhpcy5fbGVmdERpc3RhbmNlID0gMDtcclxuICAgIHRoaXMuX3JpZ2h0RGlzdGFuY2UgPSAwO1xyXG4gICAgdGhpcy5fdmVydGljYWxTdGVwQ291bnQgPSAwO1xyXG4gICAgdGhpcy5faG9yaXpvbnRhbFN0ZXBDb3VudCA9IDA7XHJcbiAgfVxyXG5cclxuICAvLyNlbmRyZWdpb25cclxuXHJcbiAgLy8jcmVnaW9uIEFjY2Vzc29yIGZ1bmN0aW9ucyBkZWNsYXJhdGlvblxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBJcyB0aGF0IGEgZmlyc3Qgc3RhZ2Ugb2Ygc2hyaW5raW5nP1xyXG5cdCAqL1xyXG4gIGdldCBpc0ZpcnN0U3RhZ2UoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNGaXJzdFN0YWdlO1xyXG4gIH1cclxuICBzZXQgaXNGaXJzdFN0YWdlKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICB0aGlzLl9pc0ZpcnN0U3RhZ2UgPSB2YWx1ZTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFjY2Vzc29yXHJcblx0ICogQGRlc2NyaXB0aW9uIElzIHRoYXQgYSBuZXcgc3RhZ2Ugb2Ygc2hyaW5raW5nXHJcblx0ICovXHJcbiAgZ2V0IGlzTmV3U3RhZ2UoKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNOZXdTdGFnZTtcclxuICB9XHJcbiAgc2V0IGlzTmV3U3RhZ2UodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuX2lzTmV3U3RhZ2UgPSB2YWx1ZTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFjY2Vzc29yXHJcblx0ICogQGRlc2NyaXB0aW9uIFBhcmFtZXRlcnMgb2YgdGhlIGZpbmFsIHpvbmUgc2hhcGU6XHJcblx0ICogdXBwZXIgbGVmdCBwb2ludCwgbG93ZXIgcmlnaHQgcG9pbnQsIHNpZGVcclxuXHQgKi9cclxuICBnZXQgZmluYWxab25lU2hhcGUoKTogWm9uZVNoYXBlIHtcclxuICAgIHJldHVybiB0aGlzLl9maW5hbFpvbmVTaGFwZTtcclxuICB9XHJcbiAgc2V0IGZpbmFsWm9uZVNoYXBlKHZhbHVlOiBab25lU2hhcGUpIHtcclxuICAgIHRoaXMuX2ZpbmFsWm9uZVNoYXBlID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBQYXJhbWV0ZXJzIG9mIHRoZSBjdXJyZW50IHpvbmUgc2hhcGU6XHJcblx0ICogdXBwZXIgbGVmdCBwb2ludCwgbG93ZXIgcmlnaHQgcG9pbnQsIHNpZGVcclxuXHQgKi9cclxuICBnZXQgY3VycmVudFpvbmVTaGFwZSgpOiBab25lU2hhcGUge1xyXG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRab25lU2hhcGU7XHJcbiAgfVxyXG4gIHNldCBjdXJyZW50Wm9uZVNoYXBlKHZhbHVlOiBab25lU2hhcGUpIHtcclxuICAgIHRoaXMuX2N1cnJlbnRab25lU2hhcGUgPSB2YWx1ZTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFjY2Vzc29yXHJcblx0ICogQGRlc2NyaXB0aW9uIFRoZSByYXRpbyBvZiB0aGUgZGlzdGFuY2VzIGJldHdlZW4gdGhlIHpvbmVzIHZlcnRpY2FsbHlcclxuXHQgKi9cclxuICBnZXQgdmVydGljYWxEaXN0YW5jZXNSYXRpbygpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX3ZlcnRpY2FsRGlzdGFuY2VzUmF0aW87XHJcbiAgfVxyXG4gIHNldCB2ZXJ0aWNhbERpc3RhbmNlc1JhdGlvKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX3ZlcnRpY2FsRGlzdGFuY2VzUmF0aW8gPSB2YWx1ZTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFjY2Vzc29yXHJcblx0ICogQGRlc2NyaXB0aW9uIFRoZSByYXRpbyBvZiB0aGUgZGlzdGFuY2VzIGJldHdlZW4gdGhlIHpvbmVzIGhvcml6b250YWxseVxyXG5cdCAqL1xyXG4gIGdldCBob3Jpem9udGFsRGlzdGFuY2VzUmF0aW8oKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9ob3Jpem9udGFsRGlzdGFuY2VzUmF0aW87XHJcbiAgfVxyXG4gIHNldCBob3Jpem9udGFsRGlzdGFuY2VzUmF0aW8odmFsdWU6IG51bWJlcikge1xyXG4gICAgdGhpcy5faG9yaXpvbnRhbERpc3RhbmNlc1JhdGlvID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBWYWx1ZSBvZiB0aGUgdG9wIGRpc3RhbmNlIGJldHdlZW4gem9uZXNcclxuXHQgKi9cclxuICBnZXQgdG9wRGlzdGFuY2UoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl90b3BEaXN0YW5jZTtcclxuICB9XHJcbiAgc2V0IHRvcERpc3RhbmNlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX3RvcERpc3RhbmNlID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBWYWx1ZSBvZiB0aGUgYm90dG9tIGRpc3RhbmNlIGJldHdlZW4gem9uZXNcclxuXHQgKi9cclxuICBnZXQgYm90dG9tRGlzdGFuY2UoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9ib3R0b21EaXN0YW5jZTtcclxuICB9XHJcbiAgc2V0IGJvdHRvbURpc3RhbmNlKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX2JvdHRvbURpc3RhbmNlID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBWYWx1ZSBvZiB0aGUgbGVmdCBkaXN0YW5jZSBiZXR3ZWVuIHpvbmVzXHJcblx0ICovXHJcbiAgZ2V0IGxlZnREaXN0YW5jZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xlZnREaXN0YW5jZTtcclxuICB9XHJcbiAgc2V0IGxlZnREaXN0YW5jZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9sZWZ0RGlzdGFuY2UgPSB2YWx1ZTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEFjY2Vzc29yXHJcblx0ICogQGRlc2NyaXB0aW9uIFZhbHVlIG9mIHRoZSByaWdodCBkaXN0YW5jZSBiZXR3ZWVuIHpvbmVzXHJcblx0ICovXHJcbiAgZ2V0IHJpZ2h0RGlzdGFuY2UoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9yaWdodERpc3RhbmNlO1xyXG4gIH1cclxuICBzZXQgcmlnaHREaXN0YW5jZSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9yaWdodERpc3RhbmNlID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBBY2Nlc3NvclxyXG5cdCAqIEBkZXNjcmlwdGlvbiBWYWx1ZSBvZiB0aGUgdmVydGljYWwgc2hyaW5raW5nIHN0ZXBzXHJcblx0ICovXHJcbiAgZ2V0IHZlcnRpY2FsU3RlcENvdW50KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5fdmVydGljYWxTdGVwQ291bnQ7XHJcbiAgfVxyXG4gIHNldCB2ZXJ0aWNhbFN0ZXBDb3VudCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl92ZXJ0aWNhbFN0ZXBDb3VudCA9IHZhbHVlO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQWNjZXNzb3JcclxuXHQgKiBAZGVzY3JpcHRpb24gVmFsdWUgb2YgdGhlIGhvcml6b250YWwgc2hyaW5raW5nIHN0ZXBzXHJcblx0ICovXHJcbiAgZ2V0IGhvcml6b250YWxTdGVwQ291bnQoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLl9ob3Jpem9udGFsU3RlcENvdW50O1xyXG4gIH1cclxuICBzZXQgaG9yaXpvbnRhbFN0ZXBDb3VudCh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9ob3Jpem9udGFsU3RlcENvdW50ID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICAvLyNlbmRyZWdpb25cclxuXHJcbiAgLy8jcmVnaW9uIENsYXNzIGZ1bmN0aW9uc1xyXG5cclxuXHQvKipcclxuXHQgKiBAZnVuY3Rpb25cclxuXHQgKiBAcGFyYW0ge2FycmF5fSBsb2NhdGlvbiBHYW1lIGxvY2F0aW9uIGZvciBwcm9jZXNzaW5nXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IHNocmlua0NvZWZmaWNpZW50IENvZWZmaWNpZW50IG9mIHpvbmUgc2hyaW5raW5nXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxhc3Rab25lU2lkZSBWYWx1ZSBvZiB0aGUgbGFzdCB6b25lIHNpZGVcclxuXHQgKiBAcGFyYW0geyp9IGZpbGxpbmdPYmplY3QgT2JqZWN0IHRvIGZpbGwgYW4gYXJlYSBvdXRzaWRlIHRoZSB6b25lXHJcblx0ICogQHBhcmFtIHsqfSBib3JkZXJGaWxsaW5nT2JqZWN0IE9iamVjdCB0byBmaWxsIGEgYm9yZGVyIG9mIHRoZSB6b25lXHJcblx0ICogQHBhcmFtIHsqfSBjbGVhbmVyT2JqZWN0IE9iamVjdCB0byBjbGVhbiB0aGUgYm9yZGVyIG9mIHRoZSB6b25lXHJcblx0ICogQGRlc2NyaXB0aW9uIE1haW4gZnVuY3Rpb24gb2YgdGhlIHpvbmUgYWxnb3JpdGhtXHJcblx0ICovXHJcbiAgc2hyaW5rKGxvY2F0aW9uOiBBcnJheTxhbnk+LCBzaHJpbmtDb2VmZmljaWVudDogbnVtYmVyLCBsYXN0Wm9uZVNpZGU6IG51bWJlciwgZmlsbGluZ09iamVjdDogYW55LCBib3JkZXJGaWxsaW5nT2JqZWN0OiBhbnksIGNsZWFuZXJPYmplY3Q6IGFueSk6IHZvaWQge1xyXG4gICAgLy8gVmVyaWZpY2F0aW9uIG9mIHRoZSBmaXJzdCBzdGFnZVxyXG4gICAgaWYgKHRoaXMuaXNGaXJzdFN0YWdlKSB7XHJcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZUZpcnN0U3RhZ2UobG9jYXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmaWNhdGlvbiBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXcgc3RhZ2VcclxuXHJcbiAgICBpZiAodGhpcy5pc05ld1N0YWdlKSB7XHJcbiAgICAgIHRoaXMuYmVnaW5OZXdTdGFnZShsb2NhdGlvbiwgc2hyaW5rQ29lZmZpY2llbnQsIGxhc3Rab25lU2lkZSwgYm9yZGVyRmlsbGluZ09iamVjdCwgY2xlYW5lck9iamVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udGludWF0aW9uIG9mIHRoZSBjdXJyZW50IHN0YWdlXHJcblxyXG4gICAgdGhpcy5jb250aW51ZUN1cnJlbnRTdGFnZShsb2NhdGlvbiwgZmlsbGluZ09iamVjdCwgbGFzdFpvbmVTaWRlKTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBmdW5jdGlvblxyXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGxvY2F0aW9uIEdhbWUgbG9jYXRpb24gZm9yIHByb2Nlc3NpbmdcclxuXHQgKiBAZGVzY3JpcHRpb24gU2V0cyBnYW1lIGxvY2F0aW9uIHNoYXBlIGFzIGN1cnJlbnQgem9uZSBzaGFwZVxyXG5cdCAqL1xyXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUZpcnN0U3RhZ2UobG9jYXRpb246IEFycmF5PGFueT4pOiB2b2lkIHtcclxuICAgIHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54ID0gMDtcclxuICAgIHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC55ID0gMDtcclxuICAgIHRoaXMuY3VycmVudFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueCA9IGxvY2F0aW9uLmxlbmd0aCAtIDE7XHJcbiAgICB0aGlzLmN1cnJlbnRab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnkgPSBsb2NhdGlvblswXS5sZW5ndGggLSAxO1xyXG4gICAgdGhpcy5jdXJyZW50Wm9uZVNoYXBlLmNhbGN1bGF0ZVNpZGUoKTtcclxuXHJcbiAgICB0aGlzLmlzRmlyc3RTdGFnZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5pc05ld1N0YWdlID0gdHJ1ZTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBmdW5jdGlvblxyXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGxvY2F0aW9uIEdhbWUgbG9jYXRpb24gZm9yIHByb2Nlc3NpbmdcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gc2hyaW5rQ29lZmZpY2llbnQgQ29lZmZpY2llbnQgb2Ygem9uZSBzaHJpbmtpbmdcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGFzdFpvbmVTaWRlIFZhbHVlIG9mIHRoZSBsYXN0IHpvbmUgc2lkZVxyXG5cdCAqIEBwYXJhbSB7Kn0gYm9yZGVyRmlsbGluZ09iamVjdCBPYmplY3QgdG8gZmlsbCBhIGJvcmRlciBvZiB0aGUgem9uZVxyXG5cdCAqIEBwYXJhbSB7Kn0gY2xlYW5lck9iamVjdCBPYmplY3QgdG8gY2xlYW4gdGhlIGJvcmRlciBvZiB0aGUgem9uZVxyXG5cdCAqIEBkZXNjcmlwdGlvbiBGaW5kcyBuZXcgZmluYWwgem9uZSBzaGFwZVxyXG5cdCAqL1xyXG4gIHByaXZhdGUgYmVnaW5OZXdTdGFnZShsb2NhdGlvbjogQXJyYXk8YW55Piwgc2hyaW5rQ29lZmZpY2llbnQ6IG51bWJlciwgbGFzdFpvbmVTaWRlOiBudW1iZXIsIGJvcmRlckZpbGxpbmdPYmplY3Q6IGFueSwgY2xlYW5lck9iamVjdDogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLmNsZWFyQm9yZGVyKGxvY2F0aW9uLCBjbGVhbmVyT2JqZWN0KTtcclxuICAgIHRoaXMuY2FsY3VsYXRlRmluYWxab25lU2hhcGUoc2hyaW5rQ29lZmZpY2llbnQsIGxhc3Rab25lU2lkZSk7XHJcbiAgICB0aGlzLmNhbGN1bGF0ZURpc3RhbmNlcygpO1xyXG4gICAgdGhpcy5jYWxjdWxhdGVWZXJ0aWNhbERpc3RhbmNlc1JhdGlvKCk7XHJcbiAgICB0aGlzLmNhbGN1bGF0ZUhvcml6b250YWxEaXN0YW5jZXNSYXRpbygpO1xyXG4gICAgdGhpcy5kcmF3Wm9uZUJvcmRlcmxpbmUobG9jYXRpb24sIGJvcmRlckZpbGxpbmdPYmplY3QpO1xyXG5cclxuICAgIHRoaXMudmVydGljYWxTdGVwQ291bnQgPSAwO1xyXG4gICAgdGhpcy5ob3Jpem9udGFsU3RlcENvdW50ID0gMDtcclxuXHJcbiAgICB0aGlzLmlzTmV3U3RhZ2UgPSBmYWxzZTtcclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBmdW5jdGlvblxyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzaHJpbmtDb2VmZmljaWVudCBDb2VmZmljaWVudCBvZiB6b25lIHNocmlua2luZ1xyXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBsYXN0Wm9uZVNpZGUgVmFsdWUgb2YgdGhlIGxhc3Qgem9uZSBzaWRlXHJcblx0ICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZSBwYXJhbWV0ZXJzIG9mIHRoZSBmaW5hbCB6b25lXHJcblx0ICovXHJcbiAgcHJpdmF0ZSBjYWxjdWxhdGVGaW5hbFpvbmVTaGFwZShzaHJpbmtDb2VmZmljaWVudDogbnVtYmVyLCBsYXN0Wm9uZVNpZGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgbGV0IGZpbmFsWm9uZVNpZGUgPSB0aGlzLmN1cnJlbnRab25lU2hhcGUuc2lkZSAvIHNocmlua0NvZWZmaWNpZW50O1xyXG4gICAgY29uc3QgZmluYWxab25lU2lkZVJvdW5kZWQgPSBNYXRoLnJvdW5kKGZpbmFsWm9uZVNpZGUpO1xyXG4gICAgZmluYWxab25lU2lkZSA9IGZpbmFsWm9uZVNpZGVSb3VuZGVkIDw9IGxhc3Rab25lU2lkZSA/IGxhc3Rab25lU2lkZSA6IGZpbmFsWm9uZVNpZGVSb3VuZGVkO1xyXG5cclxuICAgIC8vINCU0LvRjyDRgdC70YPRh9Cw0Y8g0LXRgdC70Lgg0L3Rg9C20L3QsCDRhtC10L3RgtGA0LDQu9GM0L3QsNGPINGC0L7Rh9C60LBcclxuICAgIC8vIGZpbmFsWm9uZVNpZGUgPSBmaW5hbFpvbmVTaWRlUm91bmRlZCA8PSBsYXN0Wm9uZVNpZGVcclxuICAgIC8vID8gbGFzdFpvbmVTaWRlIDogZmluYWxab25lU2lkZVJvdW5kZWQgJSAyICE9PSAwXHJcbiAgICAvLyA/IGZpbmFsWm9uZVNpZGVSb3VuZGVkIDogZmluYWxab25lU2lkZVJvdW5kZWQgLSAxO1xyXG5cclxuICAgIGNvbnN0IG1pbkJvdW5kWCA9IHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54O1xyXG4gICAgY29uc3QgbWF4Qm91bmRYID0gdGhpcy5jdXJyZW50Wm9uZVNoYXBlLmxvd2VyUmlnaHRQb2ludC54IC0gZmluYWxab25lU2lkZSArIDI7XHJcbiAgICBjb25zdCBtaW5Cb3VuZFkgPSB0aGlzLmN1cnJlbnRab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueTtcclxuICAgIGNvbnN0IG1heEJvdW5kWSA9IHRoaXMuY3VycmVudFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueSAtIGZpbmFsWm9uZVNpZGUgKyAyO1xyXG5cclxuICAgIGNvbnN0IGZpbmFsWm9uZVgxID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heEJvdW5kWCAtIG1pbkJvdW5kWCkgKyBtaW5Cb3VuZFgpO1xyXG4gICAgY29uc3QgZmluYWxab25lWTEgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4Qm91bmRZIC0gbWluQm91bmRZKSArIG1pbkJvdW5kWSk7XHJcblxyXG4gICAgdGhpcy5maW5hbFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54ID0gZmluYWxab25lWDE7XHJcbiAgICB0aGlzLmZpbmFsWm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50LnkgPSBmaW5hbFpvbmVZMTtcclxuICAgIHRoaXMuZmluYWxab25lU2hhcGUuc2lkZSA9IGZpbmFsWm9uZVNpZGU7XHJcbiAgICB0aGlzLmZpbmFsWm9uZVNoYXBlLmNhbGN1bGF0ZUxvd2VyUmlnaHRQb2ludCgpO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZXMgZGlzdGFuY2VzIGJldHdlZW4gem9uZXNcclxuXHQgKi9cclxuICBwcml2YXRlIGNhbGN1bGF0ZURpc3RhbmNlcygpOiB2b2lkIHtcclxuICAgIHRoaXMudG9wRGlzdGFuY2UgPSBNYXRoLmFicyh0aGlzLmZpbmFsWm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50LnkgLSB0aGlzLmN1cnJlbnRab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueSk7XHJcbiAgICB0aGlzLmJvdHRvbURpc3RhbmNlID0gTWF0aC5hYnModGhpcy5jdXJyZW50Wm9uZVNoYXBlLmxvd2VyUmlnaHRQb2ludC55IC0gdGhpcy5maW5hbFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueSk7XHJcbiAgICB0aGlzLmxlZnREaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuZmluYWxab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueCAtIHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54KTtcclxuICAgIHRoaXMucmlnaHREaXN0YW5jZSA9IE1hdGguYWJzKHRoaXMuY3VycmVudFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueCAtIHRoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50LngpO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQGRlc2NyaXB0aW9uIENhbGN1bGF0ZXMgdGhlIHJhdGlvIGJldHdlZW4gdGhlIHZlcnRpY2FsIGRpc3RhbmNlcyBvZiB6b25lc1xyXG5cdCAqL1xyXG4gIHByaXZhdGUgY2FsY3VsYXRlVmVydGljYWxEaXN0YW5jZXNSYXRpbygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLnRvcERpc3RhbmNlIDw9IDAgfHwgdGhpcy5ib3R0b21EaXN0YW5jZSA8PSAwKSB7XHJcbiAgICAgIHRoaXMudmVydGljYWxEaXN0YW5jZXNSYXRpbyA9IDA7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgodGhpcy50b3BEaXN0YW5jZSwgdGhpcy5ib3R0b21EaXN0YW5jZSk7XHJcbiAgICAgIGNvbnN0IG1pbiA9IE1hdGgubWluKHRoaXMudG9wRGlzdGFuY2UsIHRoaXMuYm90dG9tRGlzdGFuY2UpO1xyXG4gICAgICB0aGlzLnZlcnRpY2FsRGlzdGFuY2VzUmF0aW8gPSBNYXRoLmZsb29yKG1heCAvIG1pbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBAZnVuY3Rpb25cclxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsY3VsYXRlcyB0aGUgcmF0aW8gYmV0d2VlbiB0aGUgaG9yaXpvbnRhbCBkaXN0YW5jZXMgb2Ygem9uZXNcclxuXHQgKi9cclxuICBwcml2YXRlIGNhbGN1bGF0ZUhvcml6b250YWxEaXN0YW5jZXNSYXRpbygpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmxlZnREaXN0YW5jZSA8PSAwIHx8IHRoaXMucmlnaHREaXN0YW5jZSA8PSAwKSB7XHJcbiAgICAgIHRoaXMuaG9yaXpvbnRhbERpc3RhbmNlc1JhdGlvID0gMDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBjb25zdCBtYXggPSBNYXRoLm1heCh0aGlzLmxlZnREaXN0YW5jZSwgdGhpcy5yaWdodERpc3RhbmNlKTtcclxuICAgICAgY29uc3QgbWluID0gTWF0aC5taW4odGhpcy5sZWZ0RGlzdGFuY2UsIHRoaXMucmlnaHREaXN0YW5jZSk7XHJcbiAgICAgIHRoaXMuaG9yaXpvbnRhbERpc3RhbmNlc1JhdGlvID0gTWF0aC5mbG9vcihtYXggLyBtaW4pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQHBhcmFtIHthcnJheX0gbG9jYXRpb24gR2FtZSBsb2NhdGlvbiBmb3IgcHJvY2Vzc2luZ1xyXG5cdCAqIEBwYXJhbSB7Kn0gZmlsbGluZ09iamVjdCBPYmplY3QgdG8gZmlsbCBhbiBhcmVhIG91dHNpZGUgdGhlIHpvbmVcclxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGFzdFpvbmVTaWRlIFZhbHVlIG9mIHRoZSBsYXN0IHpvbmUgc2lkZVxyXG5cdCAqIEBkZXNjcmlwdGlvbiBGaWxsIGFuIGFyZWEgb3V0c2lkZSB0aGUgY3VycmVudCB6b25lXHJcblx0ICovXHJcbiAgcHJpdmF0ZSBjb250aW51ZUN1cnJlbnRTdGFnZShsb2NhdGlvbjogQXJyYXk8YW55PiwgZmlsbGluZ09iamVjdDogYW55LCBsYXN0Wm9uZVNpZGU6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3Qgc2hyaW5rU3RlcHMgPSB7XHJcbiAgICAgIHRvcFN0ZXA6IDAsXHJcbiAgICAgIGJvdHRvbVN0ZXA6IDAsXHJcbiAgICAgIGxlZnRTdGVwOiAwLFxyXG4gICAgICByaWdodFN0ZXA6IDBcclxuICAgIH07XHJcblxyXG4gICAgLy8gVmVydGljYWxcclxuXHJcbiAgICB0aGlzLnNocmlua1ZlcnRpY2FsbHkobG9jYXRpb24sIGZpbGxpbmdPYmplY3QsIHNocmlua1N0ZXBzKTtcclxuXHJcbiAgICAvLyBIb3Jpem9udGFsXHJcblxyXG4gICAgdGhpcy5zaHJpbmtIb3Jpem9udGFsbHkobG9jYXRpb24sIGZpbGxpbmdPYmplY3QsIHNocmlua1N0ZXBzKTtcclxuXHJcbiAgICAvLyBTaHJpbmsgc2luZ2xlIHNpemUgem9uZVxyXG5cclxuICAgIHRoaXMuc2hyaW5rU2luZ2xlU2l6ZVpvbmUobG9jYXRpb24sIGZpbGxpbmdPYmplY3QsIGxhc3Rab25lU2lkZSk7XHJcblxyXG4gICAgLy8gVXBkYXRlIGN1cnJlbnRab25lU2hhcGVcclxuXHJcbiAgICB0aGlzLmNhbGN1bGF0ZUN1cnJlbnRab25lU2hhcGUoc2hyaW5rU3RlcHMpO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgem9uZSByZWFjaGVzIGZpbmFsIHpvbmVcclxuXHJcbiAgICB0aGlzLmNoZWNrSXNGaW5hbFpvbmVSZWFjaGVkKCk7XHJcbiAgfVxyXG5cclxuXHQvKipcclxuXHQgKiBAZnVuY3Rpb25cclxuXHQgKiBAcGFyYW0ge2FycmF5fSBsb2NhdGlvbiBHYW1lIGxvY2F0aW9uIGZvciBwcm9jZXNzaW5nXHJcblx0ICogQHBhcmFtIHsqfSBmaWxsaW5nT2JqZWN0IE9iamVjdCB0byBmaWxsIGFuIGFyZWEgb3V0c2lkZSB0aGUgem9uZVxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBzaHJpbmtTdGVwcyBWYWx1ZXMgb2Ygc2hyaW5rcyBmb3IgZWFjaCBzaWRlXHJcblx0ICogQGRlc2NyaXB0aW9uIFNocmlua3MgbG9jYXRpb24gdmVydGljYWxseVxyXG5cdCAqL1xyXG4gIHByaXZhdGUgc2hyaW5rVmVydGljYWxseShsb2NhdGlvbjogQXJyYXk8YW55PiwgZmlsbGluZ09iamVjdDogYW55LCBzaHJpbmtTdGVwczogYW55KTogdm9pZCB7XHJcbiAgICBjb25zdCBpc1RvcFNpZGVSZWFjaGVkID0gKHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC55ID09PSB0aGlzLmZpbmFsWm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50LnkpO1xyXG4gICAgY29uc3QgaXNCb3R0b21TaWRlUmVhY2hlZCA9ICh0aGlzLmN1cnJlbnRab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnkgPT09IHRoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnkpO1xyXG4gICAgY29uc3QgaXNDb21tb25TdGVwID0gKHRoaXMudmVydGljYWxTdGVwQ291bnQgPT09IHRoaXMudmVydGljYWxEaXN0YW5jZXNSYXRpbyk7XHJcblxyXG4gICAgY29uc3QgdXBwZXJYID0gdGhpcy5jdXJyZW50Wm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50Lng7XHJcbiAgICBjb25zdCB1cHBlclkgPSB0aGlzLmN1cnJlbnRab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueTtcclxuICAgIGNvbnN0IGxvd2VyWCA9IHRoaXMuY3VycmVudFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueDtcclxuICAgIGNvbnN0IGxvd2VyWSA9IHRoaXMuY3VycmVudFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueTtcclxuXHJcbiAgICBpZiAoIWlzVG9wU2lkZVJlYWNoZWQgJiYgIWlzQm90dG9tU2lkZVJlYWNoZWQpIHtcclxuICAgICAgdGhpcy52ZXJ0aWNhbFN0ZXBDb3VudCsrO1xyXG5cclxuICAgICAgaWYgKHRoaXMudG9wRGlzdGFuY2UgPiB0aGlzLmJvdHRvbURpc3RhbmNlKSB7XHJcbiAgICAgICAgc2hyaW5rU3RlcHMudG9wU3RlcCsrO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gdXBwZXJYOyBpIDw9IGxvd2VyWDsgaSsrKSB7XHJcbiAgICAgICAgICBsb2NhdGlvbltpXVt1cHBlclldID0gZmlsbGluZ09iamVjdDtcclxuXHJcbiAgICAgICAgICBpZiAoaXNDb21tb25TdGVwKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uW2ldW2xvd2VyWV0gPSBmaWxsaW5nT2JqZWN0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzQ29tbW9uU3RlcCkge1xyXG4gICAgICAgICAgc2hyaW5rU3RlcHMuYm90dG9tU3RlcCsrO1xyXG4gICAgICAgICAgdGhpcy52ZXJ0aWNhbFN0ZXBDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMudG9wRGlzdGFuY2UgPCB0aGlzLmJvdHRvbURpc3RhbmNlKSB7XHJcbiAgICAgICAgc2hyaW5rU3RlcHMuYm90dG9tU3RlcCsrO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gdXBwZXJYOyBpIDw9IGxvd2VyWDsgaSsrKSB7XHJcbiAgICAgICAgICBsb2NhdGlvbltpXVtsb3dlclldID0gZmlsbGluZ09iamVjdDtcclxuXHJcbiAgICAgICAgICBpZiAoaXNDb21tb25TdGVwKSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uW2ldW3VwcGVyWV0gPSBmaWxsaW5nT2JqZWN0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzQ29tbW9uU3RlcCkge1xyXG4gICAgICAgICAgc2hyaW5rU3RlcHMudG9wU3RlcCsrO1xyXG4gICAgICAgICAgdGhpcy52ZXJ0aWNhbFN0ZXBDb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB1cHBlclg7IGkgPD0gbG93ZXJYOyBpKyspIHtcclxuICAgICAgICAgIGxvY2F0aW9uW2ldW3VwcGVyWV0gPSBmaWxsaW5nT2JqZWN0O1xyXG4gICAgICAgICAgbG9jYXRpb25baV1bbG93ZXJZXSA9IGZpbGxpbmdPYmplY3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzaHJpbmtTdGVwcy50b3BTdGVwKys7XHJcbiAgICAgICAgc2hyaW5rU3RlcHMuYm90dG9tU3RlcCsrO1xyXG4gICAgICAgIHRoaXMudmVydGljYWxTdGVwQ291bnQgPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1RvcFNpZGVSZWFjaGVkICYmICFpc0JvdHRvbVNpZGVSZWFjaGVkKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSB1cHBlclg7IGkgPD0gbG93ZXJYOyBpKyspIHtcclxuICAgICAgICBsb2NhdGlvbltpXVtsb3dlclldID0gZmlsbGluZ09iamVjdDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2hyaW5rU3RlcHMuYm90dG9tU3RlcCsrO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoIWlzVG9wU2lkZVJlYWNoZWQgJiYgaXNCb3R0b21TaWRlUmVhY2hlZCkge1xyXG4gICAgICBmb3IgKGxldCBpID0gdXBwZXJYOyBpIDw9IGxvd2VyWDsgaSsrKSB7XHJcbiAgICAgICAgbG9jYXRpb25baV1bdXBwZXJZXSA9IGZpbGxpbmdPYmplY3Q7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNocmlua1N0ZXBzLnRvcFN0ZXArKztcclxuICAgIH1cclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBmdW5jdGlvblxyXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGxvY2F0aW9uIEdhbWUgbG9jYXRpb24gZm9yIHByb2Nlc3NpbmdcclxuXHQgKiBAcGFyYW0geyp9IGZpbGxpbmdPYmplY3QgT2JqZWN0IHRvIGZpbGwgYW4gYXJlYSBvdXRzaWRlIHRoZSB6b25lXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHNocmlua1N0ZXBzIFZhbHVlcyBvZiBzaHJpbmtzIGZvciBlYWNoIHNpZGVcclxuXHQgKiBAZGVzY3JpcHRpb24gU2hyaW5rcyBsb2NhdGlvbiBob3Jpem9udGFsbHlcclxuXHQgKi9cclxuICBwcml2YXRlIHNocmlua0hvcml6b250YWxseShsb2NhdGlvbjogQXJyYXk8YW55PiwgZmlsbGluZ09iamVjdDogYW55LCBzaHJpbmtTdGVwczogYW55KTogdm9pZCB7XHJcbiAgICBjb25zdCBpc0xlZnRTaWRlUmVhY2hlZCA9ICh0aGlzLmN1cnJlbnRab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueCA9PT0gdGhpcy5maW5hbFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54KTtcclxuICAgIGNvbnN0IGlzUmlnaHRTaWRlUmVhY2hlZCA9ICh0aGlzLmN1cnJlbnRab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnggPT09IHRoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50LngpO1xyXG4gICAgY29uc3QgaXNDb21tb25TdGVwID0gKHRoaXMuaG9yaXpvbnRhbFN0ZXBDb3VudCA9PT0gdGhpcy5ob3Jpem9udGFsRGlzdGFuY2VzUmF0aW8pO1xyXG5cclxuICAgIGNvbnN0IHVwcGVyWCA9IHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54O1xyXG4gICAgY29uc3QgdXBwZXJZID0gdGhpcy5jdXJyZW50Wm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50Lnk7XHJcbiAgICBjb25zdCBsb3dlclggPSB0aGlzLmN1cnJlbnRab25lU2hhcGUubG93ZXJSaWdodFBvaW50Lng7XHJcbiAgICBjb25zdCBsb3dlclkgPSB0aGlzLmN1cnJlbnRab25lU2hhcGUubG93ZXJSaWdodFBvaW50Lnk7XHJcblxyXG4gICAgaWYgKCFpc0xlZnRTaWRlUmVhY2hlZCAmJiAhaXNSaWdodFNpZGVSZWFjaGVkKSB7XHJcbiAgICAgIHRoaXMuaG9yaXpvbnRhbFN0ZXBDb3VudCsrO1xyXG5cclxuICAgICAgaWYgKHRoaXMubGVmdERpc3RhbmNlID4gdGhpcy5yaWdodERpc3RhbmNlKSB7XHJcbiAgICAgICAgc2hyaW5rU3RlcHMubGVmdFN0ZXArKztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHVwcGVyWTsgaSA8PSBsb3dlclk7IGkrKykge1xyXG4gICAgICAgICAgbG9jYXRpb25bdXBwZXJYXVtpXSA9IGZpbGxpbmdPYmplY3Q7XHJcblxyXG4gICAgICAgICAgaWYgKGlzQ29tbW9uU3RlcCkge1xyXG4gICAgICAgICAgICBsb2NhdGlvbltsb3dlclhdW2ldID0gZmlsbGluZ09iamVjdDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0NvbW1vblN0ZXApIHtcclxuICAgICAgICAgIHNocmlua1N0ZXBzLnJpZ2h0U3RlcCsrO1xyXG4gICAgICAgICAgdGhpcy5ob3Jpem9udGFsU3RlcENvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSBpZiAodGhpcy5sZWZ0RGlzdGFuY2UgPCB0aGlzLnJpZ2h0RGlzdGFuY2UpIHtcclxuICAgICAgICBzaHJpbmtTdGVwcy5yaWdodFN0ZXArKztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHVwcGVyWTsgaSA8PSBsb3dlclk7IGkrKykge1xyXG4gICAgICAgICAgbG9jYXRpb25bbG93ZXJYXVtpXSA9IGZpbGxpbmdPYmplY3Q7XHJcblxyXG4gICAgICAgICAgaWYgKGlzQ29tbW9uU3RlcCkge1xyXG4gICAgICAgICAgICBsb2NhdGlvblt1cHBlclhdW2ldID0gZmlsbGluZ09iamVjdDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpc0NvbW1vblN0ZXApIHtcclxuICAgICAgICAgIHNocmlua1N0ZXBzLmxlZnRTdGVwKys7XHJcbiAgICAgICAgICB0aGlzLmhvcml6b250YWxTdGVwQ291bnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gdXBwZXJZOyBpIDw9IGxvd2VyWTsgaSsrKSB7XHJcbiAgICAgICAgICBsb2NhdGlvblt1cHBlclhdW2ldID0gZmlsbGluZ09iamVjdDtcclxuICAgICAgICAgIGxvY2F0aW9uW2xvd2VyWF1baV0gPSBmaWxsaW5nT2JqZWN0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2hyaW5rU3RlcHMubGVmdFN0ZXArKztcclxuICAgICAgICBzaHJpbmtTdGVwcy5yaWdodFN0ZXArKztcclxuICAgICAgICB0aGlzLmhvcml6b250YWxTdGVwQ291bnQgPSAwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc0xlZnRTaWRlUmVhY2hlZCAmJiAhaXNSaWdodFNpZGVSZWFjaGVkKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSB1cHBlclk7IGkgPD0gbG93ZXJZOyBpKyspIHtcclxuICAgICAgICBsb2NhdGlvbltsb3dlclhdW2ldID0gZmlsbGluZ09iamVjdDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2hyaW5rU3RlcHMucmlnaHRTdGVwKys7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghaXNMZWZ0U2lkZVJlYWNoZWQgJiYgaXNSaWdodFNpZGVSZWFjaGVkKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSB1cHBlclk7IGkgPD0gbG93ZXJZOyBpKyspIHtcclxuICAgICAgICBsb2NhdGlvblt1cHBlclhdW2ldID0gZmlsbGluZ09iamVjdDtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2hyaW5rU3RlcHMubGVmdFN0ZXArKztcclxuICAgIH1cclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBmdW5jdGlvblxyXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGxvY2F0aW9uIEdhbWUgbG9jYXRpb24gZm9yIHByb2Nlc3NpbmdcclxuXHQgKiBAcGFyYW0geyp9IGZpbGxpbmdPYmplY3QgT2JqZWN0IHRvIGZpbGwgYW4gYXJlYSBvdXRzaWRlIHRoZSB6b25lXHJcblx0ICogQHBhcmFtIHtudW1iZXJ9IGxhc3Rab25lU2lkZSBWYWx1ZSBvZiB0aGUgbGFzdCB6b25lIHNpZGVcclxuXHQgKiBAZGVzY3JpcHRpb24gU2hyaW5rcyB6b25lIHdoZW4gaXRzIHNpemUgZXF1YWxzIG9uZVxyXG5cdCAqL1xyXG4gIHByaXZhdGUgc2hyaW5rU2luZ2xlU2l6ZVpvbmUobG9jYXRpb246IEFycmF5PGFueT4sIGZpbGxpbmdPYmplY3Q6IGFueSwgbGFzdFpvbmVTaWRlOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLmN1cnJlbnRab25lU2hhcGUuc2lkZSA9PT0gMSAmJiBsYXN0Wm9uZVNpZGUgPCAxKSB7XHJcbiAgICAgIGxvY2F0aW9uW3RoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54XVt0aGlzLmN1cnJlbnRab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueV0gPSBmaWxsaW5nT2JqZWN0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQHBhcmFtIHtvYmplY3R9IHNocmlua1N0ZXBzIFZhbHVlcyBvZiBzaHJpbmtzIGZvciBlYWNoIHNpZGVcclxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsY3VsYXRlIHBhcmFtZXRlcnMgb2YgdGhlIGN1cnJlbnQgem9uZVxyXG5cdCAqL1xyXG4gIHByaXZhdGUgY2FsY3VsYXRlQ3VycmVudFpvbmVTaGFwZShzaHJpbmtTdGVwczogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLmN1cnJlbnRab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueCArPSBzaHJpbmtTdGVwcy5sZWZ0U3RlcDtcclxuICAgIHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC55ICs9IHNocmlua1N0ZXBzLnRvcFN0ZXA7XHJcbiAgICB0aGlzLmN1cnJlbnRab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnggLT0gc2hyaW5rU3RlcHMucmlnaHRTdGVwO1xyXG4gICAgdGhpcy5jdXJyZW50Wm9uZVNoYXBlLmxvd2VyUmlnaHRQb2ludC55IC09IHNocmlua1N0ZXBzLmJvdHRvbVN0ZXA7XHJcbiAgICB0aGlzLmN1cnJlbnRab25lU2hhcGUuY2FsY3VsYXRlU2lkZSgpO1xyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQGRlc2NyaXB0aW9uIENoZWNrIGlmIHRoZSBjdXJyZW50IHpvbmUgcmVhY2hlcyB0aGUgZmluYWwgem9uZVxyXG5cdCAqL1xyXG4gIHByaXZhdGUgY2hlY2tJc0ZpbmFsWm9uZVJlYWNoZWQoKTogdm9pZCB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHRoaXMuY3VycmVudFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54ID09PSB0aGlzLmZpbmFsWm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50LnhcclxuICAgICAgJiYgdGhpcy5jdXJyZW50Wm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50LnkgPT09IHRoaXMuZmluYWxab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueVxyXG4gICAgICAmJiB0aGlzLmN1cnJlbnRab25lU2hhcGUuc2lkZSA9PT0gdGhpcy5maW5hbFpvbmVTaGFwZS5zaWRlXHJcbiAgICAgICYmIHRoaXMuY3VycmVudFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueCA9PT0gdGhpcy5maW5hbFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueFxyXG4gICAgICAmJiB0aGlzLmN1cnJlbnRab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnkgPT09IHRoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnlcclxuICAgICkge1xyXG4gICAgICB0aGlzLmlzTmV3U3RhZ2UgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblx0LyoqXHJcblx0ICogQGZ1bmN0aW9uXHJcblx0ICogQHBhcmFtIHthcnJheX0gbG9jYXRpb24gR2FtZSBsb2NhdGlvbiBmb3IgcHJvY2Vzc2luZ1xyXG5cdCAqIEBwYXJhbSB7Kn0gYm9yZGVyRmlsbGluZ09iamVjdCBPYmplY3QgdG8gZmlsbCBhIGJvcmRlciBvZiB0aGUgem9uZVxyXG5cdCAqIEBkZXNjcmlwdGlvbiBGaWxscyBib3JkZXIgY2VsbHMgb2YgdGhlIGZpbmFsIHpvbmUgd2l0aCBnaXZlbiBvYmplY3RcclxuXHQgKi9cclxuICBwcml2YXRlIGRyYXdab25lQm9yZGVybGluZShsb2NhdGlvbjogQXJyYXk8YW55PiwgYm9yZGVyRmlsbGluZ09iamVjdDogYW55KTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gdGhpcy5maW5hbFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54OyBpIDw9IHRoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50Lng7IGkrKykge1xyXG4gICAgICBsb2NhdGlvbltpXVt0aGlzLmZpbmFsWm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50LnldID0gYm9yZGVyRmlsbGluZ09iamVjdDtcclxuICAgICAgbG9jYXRpb25baV1bdGhpcy5maW5hbFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueV0gPSBib3JkZXJGaWxsaW5nT2JqZWN0O1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZmluYWxab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueTsgaSA8PSB0aGlzLmZpbmFsWm9uZVNoYXBlLmxvd2VyUmlnaHRQb2ludC55OyBpKyspIHtcclxuICAgICAgbG9jYXRpb25bdGhpcy5maW5hbFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54XVtpXSA9IGJvcmRlckZpbGxpbmdPYmplY3Q7XHJcbiAgICAgIGxvY2F0aW9uW3RoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnhdW2ldID0gYm9yZGVyRmlsbGluZ09iamVjdDtcclxuICAgIH1cclxuICB9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEBmdW5jdGlvblxyXG5cdCAqIEBwYXJhbSB7YXJyYXl9IGxvY2F0aW9uIEdhbWUgbG9jYXRpb24gZm9yIHByb2Nlc3NpbmdcclxuXHQgKiBAcGFyYW0geyp9IGNsZWFuZXJPYmplY3QgT2JqZWN0IHRvIGNsZWFuIHRoZSBib3JkZXIgb2YgdGhlIHpvbmVcclxuXHQgKiBAZGVzY3JpcHRpb24gUmVtb3ZlcyB0aGUgZHJhd24gYm9yZGVyIG9mIHRoZSBmaW5hbCB6b25lXHJcblx0ICovXHJcbiAgcHJpdmF0ZSBjbGVhckJvcmRlcihsb2NhdGlvbjogQXJyYXk8YW55PiwgY2xlYW5lck9iamVjdDogYW55KTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCBpID0gdGhpcy5maW5hbFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54OyBpIDw9IHRoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50Lng7IGkrKykge1xyXG4gICAgICBsb2NhdGlvbltpXVt0aGlzLmZpbmFsWm9uZVNoYXBlLnVwcGVyTGVmdFBvaW50LnldID0gY2xlYW5lck9iamVjdDtcclxuICAgICAgbG9jYXRpb25baV1bdGhpcy5maW5hbFpvbmVTaGFwZS5sb3dlclJpZ2h0UG9pbnQueV0gPSBjbGVhbmVyT2JqZWN0O1xyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IHRoaXMuZmluYWxab25lU2hhcGUudXBwZXJMZWZ0UG9pbnQueTsgaSA8PSB0aGlzLmZpbmFsWm9uZVNoYXBlLmxvd2VyUmlnaHRQb2ludC55OyBpKyspIHtcclxuICAgICAgbG9jYXRpb25bdGhpcy5maW5hbFpvbmVTaGFwZS51cHBlckxlZnRQb2ludC54XVtpXSA9IGNsZWFuZXJPYmplY3Q7XHJcbiAgICAgIGxvY2F0aW9uW3RoaXMuZmluYWxab25lU2hhcGUubG93ZXJSaWdodFBvaW50LnhdW2ldID0gY2xlYW5lck9iamVjdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vI2VuZHJlZ2lvblxyXG5cclxuICAvLyNyZWdpb24gR2FyYmFnZVxyXG5cclxuICAvLyAvKipcclxuICAvLyAgKiBwcml2YXRlIHN0YXRpYyBmaWVsZFxyXG4gIC8vICAqXHJcbiAgLy8gICogVmFsdWUgb2YgdGhlIGN1cnJlbnQgem9uZSByYWRpdXNcclxuICAvLyAgKi9cclxuICAvLyBfem9uZVJhZGl1czogMCxcclxuXHJcbiAgLy8gLyoqXHJcbiAgLy8gICogcHJpdmF0ZSBzdGF0aWMgZmllbGRcclxuICAvLyAgKlxyXG4gIC8vICAqIENvb3JkaW5hdGVzIG9mIHRoZSB6b25lIGNlbnRlclxyXG4gIC8vICAqL1xyXG4gIC8vIF96b25lQ2VudGVyUG9pbnQ6IHtcclxuICAvLyBcdHg6IDAsXHJcbiAgLy8gXHR5OiAwXHJcbiAgLy8gfVxyXG5cclxuICAvLyAvKipcclxuICAvLyAgKiBwcml2YXRlIHN0YXRpYyBmaWVsZFxyXG4gIC8vICAqXHJcbiAgLy8gICogQ29vcmRpbmF0ZXMgb2YgdGhlIGZpcnN0IHBvaW50IGluc2lkZSB0aGUgem9uZVxyXG4gIC8vICAqL1xyXG4gIC8vIF96b25lVXBwZXJMZWZ0UG9pbnQ6IHtcclxuICAvLyBcdHg6IDAsXHJcbiAgLy8gXHR5OjBcclxuICAvLyB9XHJcblxyXG4gIC8vIC8qKlxyXG4gIC8vICAqIHByaXZhdGUgc3RhdGljIGZpZWxkXHJcbiAgLy8gICpcclxuICAvLyAgKiBWYWx1ZSBvZiB0aGUgY3VycmVudCB6b25lIHJhZGl1c1xyXG4gIC8vICAqL1xyXG4gIC8vIGdldCB6b25lUmFkaXVzKCkge1xyXG4gIC8vIFx0cmV0dXJuIHRoaXMuX3pvbmVSYWRpdXM7XHJcbiAgLy8gfVxyXG4gIC8vIHNldCB6b25lUmFkaXVzKHZhbHVlKSB7XHJcbiAgLy8gXHR1bmxvY2tPYmplY3RGaWVsZCh0aGlzLCBcIl96b25lUmFkaXVzXCIpO1xyXG5cclxuICAvLyBcdHRoaXMuX3pvbmVSYWRpdXMgPSB2YWx1ZTtcclxuXHJcbiAgLy8gXHRsb2NrT2JqZWN0RmllbGQodGhpcywgXCJfem9uZVJhZGl1c1wiKTtcclxuICAvLyB9XHJcblxyXG4gIC8vIC8qKlxyXG4gIC8vICAqIHByaXZhdGUgc3RhdGljIGZpZWxkXHJcbiAgLy8gICpcclxuICAvLyAgKiBDb29yZGluYXRlcyBvZiB0aGUgem9uZSBjZW50ZXJcclxuICAvLyAgKi9cclxuICAvLyBnZXQgem9uZUNlbnRlclBvaW50KCkge1xyXG4gIC8vIFx0cmV0dXJuIHRoaXMuX3pvbmVDZW50ZXJQb2ludDtcclxuICAvLyB9XHJcbiAgLy8gc2V0IHpvbmVDZW50ZXJQb2ludCh2YWx1ZSkge1xyXG4gIC8vIFx0dW5sb2NrT2JqZWN0RmllbGQodGhpcywgXCJfem9uZUNlbnRlclBvaW50XCIpO1xyXG5cclxuICAvLyBcdHRoaXMuX3pvbmVDZW50ZXJQb2ludCA9IHZhbHVlO1xyXG5cclxuICAvLyBcdGxvY2tPYmplY3RGaWVsZCh0aGlzLCBcIl96b25lQ2VudGVyUG9pbnRcIik7XHJcbiAgLy8gfVxyXG5cclxuICAvLyAvKipcclxuICAvLyAgKiBwcml2YXRlIHN0YXRpYyBmaWVsZFxyXG4gIC8vICAqXHJcbiAgLy8gICogQ29vcmRpbmF0ZXMgb2YgdGhlIGZpcnN0IHBvaW50IGluc2lkZSB0aGUgem9uZVxyXG4gIC8vICAqL1xyXG4gIC8vIGdldCB6b25lVXBwZXJMZWZ0UG9pbnQoKSB7XHJcbiAgLy8gXHRyZXR1cm4gdGhpcy5fem9uZVVwcGVyTGVmdFBvaW50O1xyXG4gIC8vIH1cclxuICAvLyBzZXQgem9uZVVwcGVyTGVmdFBvaW50KHZhbHVlKSB7XHJcbiAgLy8gXHR1bmxvY2tPYmplY3RGaWVsZCh0aGlzLCBcIl96b25lVXBwZXJMZWZ0UG9pbnRcIik7XHJcblxyXG4gIC8vIFx0dGhpcy5fem9uZVVwcGVyTGVmdFBvaW50ID0gdmFsdWU7XHJcblxyXG4gIC8vIFx0bG9ja09iamVjdEZpZWxkKHRoaXMsIFwiX3pvbmVVcHBlckxlZnRQb2ludFwiKTtcclxuICAvLyB9XHJcblxyXG4gIC8vI2VuZHJlZ2lvblxyXG59OyIsImltcG9ydCB7IFpvbmUgfSBmcm9tIFwiLi96b25lL3pvbmVcIjtcclxuXHJcbmNvbnN0IGxvY2F0aW9uU2lkZSA9IDE4O1xyXG5jb25zdCBzaHJpbmtDb2VmZmljaWVudCA9IDEuNDtcclxuY29uc3QgbGFzdFpvbmVTaWRlID0gMDtcclxuY29uc3QgZmlsbGluZ09iamVjdCA9IFwi4oiOXCI7XHJcbmNvbnN0IGJvcmRlckZpbGxpbmdPYmplY3QgPSAwO1xyXG5jb25zdCBjbGVhbmVyT2JqZWN0ID0gXCIgXCI7XHJcblxyXG5sZXQgZ2FtZUxvY2F0aW9uID0gbmV3IEFycmF5KGxvY2F0aW9uU2lkZSk7XHJcbmZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25TaWRlOyBpKyspIHtcclxuICBnYW1lTG9jYXRpb25baV0gPSBuZXcgQXJyYXkobG9jYXRpb25TaWRlKTtcclxufVxyXG5cclxuZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhdGlvblNpZGU7IGkrKykge1xyXG4gIGZvciAobGV0IGogPSAwOyBqIDwgbG9jYXRpb25TaWRlOyBqKyspIHtcclxuICAgIGdhbWVMb2NhdGlvbltpXVtqXSA9IFwiIFwiO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3Qgem9uZSA9IG5ldyBab25lKCk7XHJcblxyXG5mb3IgKGxldCBpID0gMDsgaSA8IDE5OyBpKyspIHtcclxuICAoZnVuY3Rpb24gKGdhbWVMb2NhdGlvbikge1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnNvbGUuY2xlYXIoKTtcclxuICAgICAgem9uZS5zaHJpbmsoZ2FtZUxvY2F0aW9uLCBzaHJpbmtDb2VmZmljaWVudCwgbGFzdFpvbmVTaWRlLCBmaWxsaW5nT2JqZWN0LCBib3JkZXJGaWxsaW5nT2JqZWN0LCBjbGVhbmVyT2JqZWN0KTtcclxuICAgICAgY29uc29sZS50YWJsZShnYW1lTG9jYXRpb24pO1xyXG4gICAgfSwgaSAqIDEwMDApO1xyXG4gIH0pKGdhbWVMb2NhdGlvbik7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9